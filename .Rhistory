source("conn_rnooa_postgresql_writeOGR_locs_and_weatherData.R")
clear
source("conn_rnooa_postgresql_writeOGR_locs_and_weatherData.R")
source("conn_rnooa_postgresql_writeOGR_locs_and_weatherData.R")
source("conn_rnooa_postgresql_writeOGR_locs_and_weatherData.R")
q()
install.packages("delir")
install.packages("delir")
install.packages("deldir")
install.packages(c("sp", "rgdal", "rnoaa","lubridate","hash", "zoo", "DBI", "RPostgreSQL", "deldir", "gWidgetstcltk" ))
install.packages(c("sp", "rgdal", "dplyr"," tidyr","rnoaa","lubridate","hash", "zoo", "DBI", "RPostgreSQL" ))
install.packages(c("dplyr"," tidyr","rnoaa","lubridate", "zoo" ))
install.packages("rnoaa" )
install.packages("devtools")
install.packages("rversions")
install.packages(c("xml2","rversions"))
install.packages("xml2")
q()
q()
q()
set.seed(4321)
nMax <- 9000
mat1 <- matrix( c(rnorm(nMax,5), runif(nMax,110),abs(rcauchy(nMax,loc=5, sca=0.1))), nr=nMax/2, byrow=T)
mat1 <- matrix( c(rnorm(nMax,5), runif(nMax,1,10),abs(rcauchy(nMax,loc=5, sca=0.1))), nr=nMax/2, byrow=T)
head(mat1, n=3)
system.time({rowAv <- numberic(); for (i in 1:nrow(mat1)) rowAv <- c(rowAv, mean(mat1[i,]))})
system.time({rowAv <- as.numberic(); for (i in 1:nrow(mat1)) rowAv <- c(rowAv, mean(mat1[i,]))})
system.time({rowAv <- as.numeric(); for (i in 1:nrow(mat1)) rowAv <- c(rowAv, mean(mat1[i,]))})
system.time( rowAv2 <- rowMeans(mat1)
)
head(rowAv2)
head(rowAv2, col=3)
q()
setwd("rabravo_v2/")
library(devtools)
document()
load_all("../rabravo_v2/")
$ operator is invalid for atomic vectors
dm <- matrix(rnorm(20), nrow=10)
dm
for (i in 1:length(df) ){ ws2pgdb::dengue_model(dm, conn) }
for (i in 1:length(dm) ){ ws2pgdb::dengue_model(dm[,i], conn) }
for (i in 1:length(dm) ){ print(ws2pgdb::dengue_model(dm[,i], conn) ) }
length(dm)
cols(dm)
columns(dm)
ncol(dm)
for (i in 1:ncol(dm) ){ print(ws2pgdb::dengue_model(dm[,i], conn) ) }
load_all("../rabravo_v2/")
for (i in 1:ncol(dm) ){ print(ws2pgdb::dengue_model(dm[,i], conn) ) }
load_all("../rabravo_v2/")
for (i in 1:ncol(.O$newdm) ){ print(ws2pgdb::dengue_model(dm[,i], conn) ) }
load_all("../rabravo_v2/")
for (i in 1:ncol(dm) ){ print(ws2pgdb::dengue_model(dm[,i], conn) ) }
DF <- data.frame(a = 1:3, b = letters[10:12],
                 c = seq(as.Date("2004-01-01"), by = "week", len = 3),
                 stringsAsFactors = TRUE)
DF
data.matrix(DF[1:2])
data.matrix(DF)
data.matrix(DF[2:3])
load_all("../rabravo_v2/")
tableName <- "texas_cameron_48061_ws_subset_metadata_span_10_avg_tmax"
ws2pgdb::dengue_model(tableName, conn)
base::options(guiToolkit="tcltk")
  file   <- base::paste(Sys.getenv("HOME"), "/","pg_config.yml", sep="")
  config <- yaml::yaml.load_file( file )
  driver <- "PostgreSQL"
  drv    <- RPostgres::Postgres()
  conn   <- RPostgres::dbConnect(drv, host= config$dbhost, port= config$dbport, dbname= config$dbname, user= config$dbuser, password= config$dbpwd)
ws2pgdb::dengue_model(tableName, conn)
tableName <- "texas_cameron_48061_ws_subset_metadata_span_10_tmax"
ws2pgdb::dengue_model(tableName, conn)
tableName <- "texas_cameron_48061_ws_subset_data_span_10_avg_tmax"
ws2pgdb::dengue_model(tableName, conn)
ws2pgdb::dengue_model(tableName, conn)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
?data.frame
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
data.matrix(DF[2:3])
newdm <- data.matrix(DF[2:3])
.O$newdm <- data.matrix(DF[2:3])
.O$newdm(1,1)
.O$newdm[1,1]
.O$newdm[1,2]
.O$newdm[1,3]
.O$newdm[2,2]
o_eval(text="newdm")
o_eval(text="newdm(1,1)")
o_eval(text="newdm(1,2)")
o_eval(text="newdm(2,2)")
o_eval(text="newdm(2,1:2)")
o_eval(text="newdm(2,:)")
o_eval(text="if(newdm(:,1)) >= 32) print(newdm(:,1))")
o_eval(text="if(newdm(:,1) >= 32) print(newdm(:,1) ) end")
o_eval(text="if(newdm(:,1) >= 32)\ print(newdm(:,1) )\ end")
o_eval(text="if(newdm(:,1) >= 32)\ print(newdm(:,1) )\ end")
o_eval(text="if( newdm(1,1) >= 32) print("hi") end")
o_eval(text="if( newdm(1,1) >= 32) printf("hi") end")
o_eval(text="if( newdm(1,1) >= 32) printf("hi"); end")
o_eval(text="if( newdm(1,1) >= 32) printf('hi'); end")
o_source(text="if( newdm(1,1) >= 32) printf('hi'); end")
o_source(text="if( newdm(1,1) >= 32) printf('hi') else printf('not hi'); end")
o_source(text="if( newdm(:,1) >= 32) printf('hi') else printf('not hi'); end")
.O$newdm
o_source(text="if( newdm(:,2) >= 32) printf('hi') else printf('not hi'); end")
load_all("../rabravo_v2/")
newdm()
newdm
.O$newdm
.O$newdm(1)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
tableName
ws2pgdb::dengue_model(tableName, conn)
tableName
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
out <- ws2pgdb::dengue_model(tableName, conn)
out
out <- ws2pgdb::dengue_model(tableName, conn)
out
.O$out <- ws2pgdb::dengue_model(tableName, conn)
.O$out
load_all("../rabravo_v2/")
.O$out <- ws2pgdb::dengue_model(tableName, conn)
.O$out
.O$eip
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableName, conn)
tableName
tableFlorida<-"florida_monroe_12087_ws_subset_data_span_10_avg_tmax"
load_all("../rabravo_v2/")
ws2pgdb::dengue_model(tableFlorida, conn)
DF
data.matrix(DF[1:2])
data.matrix(DF)
dm <- data.matrix(DF)
dm
dm[1,1]
dm[1,1,]
dm[1,3]
dm[,1:2]
load_all("../rabravo_v2/")
load_all("../rabravo_v2/")
tableFlorida<-"florida_monroe_12087_ws_subset_data_span_10_avg_tmax_1"
ws2pgdb::dengue_model(tableFlorida, conn)
tableFlorida<-"florida_monroe_12087_ws_subset_data_span_10_avg_tmax"
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '9', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '9', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '9', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '9', 'dengue')
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
document()
load_all("../rabravo_v2/")
document()
document()
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
tableName
tableName <- NULL
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
load_all("../rabravo_v2/")
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
ws2pgdb::stretch_delay_latent_period('12087', 'TMAX', '10', 'dengue')
clear
document()
check()
document()
document()
check()
document()
check()
load_all("../rabravo_v2/")
document()
check()
> file   <- base::paste(Sys.getenv("HOME"), "/","pg_config.yml", sep="")
> config <- yaml::yaml.load_file( file )
> driver <- "PostgreSQL"
> drv    <- RPostgres::Postgres()
> conn   <- RPostgres::dbConnect(drv, host= config$dbhost, port= config$dbport, dbname= config$dbname, user= config$dbuser, password= config$dbpwd)
> ghcnd <- 'GHCND'
> geoid <- '12087'
> type  <- 'TMAX'
> disease <- 'chagas'
> degree  <- '5'
> stations <- as.data.frame( all_coor_ws( ghcnd, geoid, type) )
> span <-'10'
file   <- base::paste(Sys.getenv("HOME"), "/","pg_config.yml", sep="")
config <- yaml::yaml.load_file( file )
driver <- "PostgreSQL"
drv    <- RPostgres::Postgres()
conn   <- RPostgres::dbConnect(drv, host= config$dbhost, port= config$dbport, dbname= config$dbname, user= config$dbuser, password= config$dbpwd)
ghcnd <- 'GHCND'
geoid <- '12087'
type  <- 'TMAX'
disease <- 'chagas'
degree  <- '5'
stations <- as.data.frame( all_coor_ws( ghcnd, geoid, type) )
span <-'10'
tableData <- ws_subset_metadata_span_2_pg_db( geoid, type, stations, span)
tableData
chagas_model(tableData, disease, conn, degree)
dengue_model(tableData, disease, conn, degree)
?data.matrix
chagas_model(tableData, disease, conn, degree)
tableData
load_all("../rabravo_v2/")
chagas_model(tableData, disease, conn, degree)
geoid
stations
stretch_delay_latent_period(geoid, type, span, 'chagas')
q()
